import java.util.Arrays;
import java.util.List;
import java.util.function.Function;
import java.util.stream.Collectors;

public class Top3FrequentElement {
    public static void main(String[] args) {
        List<Integer> numbers = Arrays.asList(1, 4, 2, 1, 3, 2, 1, 4, 4, 5, 6, 5, 5, 5);
        numbers.stream()
                .collect(Collectors.groupingBy(
                        Function.identity(),
                        Collectors.counting()
                ))
                .entrySet()
                .stream()
                .sorted((a, b)->Long.compare(b.getValue(),a.getValue())) // sort desc by frequency
                .limit(3) // pick top 3
                .forEach(entry ->System.out.println(entry.getKey()+ " = " +entry.getValue()));
    }
}
